<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-storage-compat.js"></script>
<!-- Firebase App SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>

<script>
  // Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyD6BWxdK_BZpAH0SMXEIFy1uA7XdwBhddg",
  authDomain: "teleport-b0434.firebaseapp.com",
  projectId: "teleport-b0434",
  storageBucket: "teleport-b0434.firebasestorage.app",
  messagingSenderId: "873499675326",
  appId: "1:873499675326:web:3e83e2e84b97a37c662cef",
  measurementId: "G-PPZZTHST0M"
  };

  // Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const database = firebase.database();
</script>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css">
		* {
	 box-sizing: border-box;
}
 html {
	 scroll-behavior: smooth;
}
 html, body {
	 width: 100%;
	 height: 100vh;
	 margin: 0;
}
 body {
	 font-family: 'DM Sans', sans-serif;
	 display: flex;
	 justify-content: center;
	 align-items: center;
	 flex-direction: column;
	 overflow: hidden;
	 overflow-x: hidden;
	 background-image: linear-gradient(to top, #a3bded 0%, #6991c7 100%);
	 background-position: center;
	 background-size: cover;
	 padding: 20px;
}
 :root {
	 --dark-font: #0f0f10;
	 --light-font: #79798c;
}
 a {
	 text-decoration: none;
	 cursor: pointer;
}
 .app-container {
    position: relative;
    border-radius: 10px;
    width: 95%; /* Change from 100% to 95% for better padding inside body */
    height: 95%; /* Change from 100% to 95% */
    max-width: 1600px; /* Increase from 1200px -> 1600px */
    max-height: 1000px; /* Increase from 900px -> 1000px */
    background: linear-gradient(180deg, rgba(224, 233, 253, 1) 0%, rgba(233, 236, 241, 1) 90%);
    box-shadow: 0 0 0 10px rgba(255, 255, 255, .4);
    display: flex;
    overflow: hidden;
}

 .left-area {
	 padding: 32px;
	 flex-basis: 1 0 132px;
	 background-color: rgba(255, 255, 255, .9);
	 display: flex;
	 flex-direction: column;
	 align-items: center;
	 transition: all 300ms cubic-bezier(0.19, 1, 0.56, 1);
	 position: relative;
	 overflow: auto;
}
 .left-area.show {
	 transform: translateX(0);
	 opacity: 1;
}
 .app-name {
	 font-weight: 700;
	 font-size: 16px;
	 line-height: 24px;
	 color: var(--dark-font);
	 margin-bottom: 32px;
}
 .item-link {
	 color: var(--light-font);
	 margin-bottom: 32px;
	 transition: 0.2s;
}
 .item-link.active {
	 color: var(--dark-font);
}
 .btn-logout {
	 border: none;
	 background-color: transparent;
	 color: var(--light-font);
	 margin-top: auto;
	 cursor: pointer;
	 transition: 0.2s;
}
 .btn-logout:hover {
	 color: var(--dark-font);
}
 .main-area {
	 flex: 1;
	 height: 100%;
	 overflow-y: auto;
	 background: linear-gradient(97deg, rgba(242, 247, 253, 1) 0%, rgba(240, 244, 253, 1) 90%);
	 border-radius: 0 10px 10px 0;
	 padding-bottom: 24px;
	 position: relative;
}
 .main-area-header {
	 padding: 24px 40px;
	 background: linear-gradient(97deg, rgba(242, 247, 253, 1) 0%, rgba(240, 244, 253, 1) 90%);
}
 .search-wrapper {
	 border-radius: 4px;
	 background-color: #fff;
	 padding-right: 12px;
	 height: 40px;
	 display: flex;
	 justify-content: space-between;
	 align-items: center;
	 color: var(--light-font);
	 box-shadow: 0 2px 6px 0 rgba(136, 148, 171, .2), 0 24px 20px -24px rgba(71, 82, 107, .1);
	 overflow: hidden;
}
 .search-input {
	 border: none;
	 flex: 1;
	 outline: none;
	 height: 100%;
	 padding: 0 12px;
	 font-size: 12px;
}
 .right-area {
	 flex-basis: 300px;
	 flex-grow: 0;
	 background: linear-gradient(180deg, rgba(224, 233, 253, 1) 0%, rgba(233, 236, 241, 1) 90%);
	 transition: all 300ms cubic-bezier(0.19, 1, 0.56, 1);
}
 .right-area.show {
	 transform: translateX(0);
	 width: 100%;
	 opacity: 1;
}
 .content-section {
	 display: block;
	 margin-top: 32px;
	 overflow-x: hidden;
	 padding: 0 40px;
}
 .section-header {
	 font-size: 24px;
	 line-height: 32px;
	 margin-bottom: 16px;
}
 .section-header-wrapper {
	 display: flex;
	 align-items: center;
	 justify-content: space-between;
}
 .section-header-link {
	 display: block;
	 font-size: 12px;
	 line-height: 16px;
	 color: #8683d6;
}
 .access-links {
	 display: flex;
	 justify-content: space-between;
	 flex-wrap: wrap;
	 margin: 0 -8px;
}
 .access-icon {
	 width: 100%;
	 height: 100%;
	 border-radius: 12px;
	 padding: 20px;
	 color: #fff;
	 display: flex;
	 align-items: center;
	 justify-content: center;
}
 .access-icon svg {
	 width: 36px;
	 height: 36px;
}
 .access-link-wrapper {
	 display: flex;
	 justify-content: center;
	 align-items: center;
	 flex-direction: column;
	 padding: 8px;
}
 .access-link-wrapper:nth-child(1) .access-icon {
	 background-color: #6166fe;
}
 .access-link-wrapper:nth-child(2) .access-icon {
	 background-color: #6166fe;
}
 .access-link-wrapper:nth-child(3) .access-icon {
	 background-color: #3275f7;
}
 .access-link-wrapper:nth-child(4) .access-icon {
	 background-color: #3275f7;
}
 .access-link-wrapper:nth-child(5) .access-icon {
	 background-color: #22244a;
}
 .access-link-wrapper:nth-child(6) .access-icon {
	 background-color: #22244a;
}
 .access-text {
	 color: var(--light-font);
	 font-size: 12px;
	 line-height: 24px;
}
 .content-section-line, .content-part-line {
	 display: flex;
	 justify-content: space-between;
}
 .content-part-line {
	 height: 100%;
}
 .content-section-line {
	 margin: 0 -8px;
}
 .section-part {
	 flex-basis: 49%;
}
 .image-wrapper {
	 border-radius: 12px;
	 overflow: hidden;
	 width: 100%;
	 height: auto;
	 position: relative;
	 flex-basis: 48%;
	 display: flex;
}
 .image-wrapper img {
	 width: 100%;
	 height: 100%;
	 object-fit: cover;
	 transition: 0.2s ease-in;
}
 .image-wrapper:hover img {
	 transform: scale(1.125);
}
 .image-overlay {
	 position: absolute;
	 z-index: 1;
	 width: 100%;
	 height: 100%;
	 background: linear-gradient(0deg, rgba(0, 16, 34, 0.8) 0%, rgba(240, 244, 253, 0.2) 90%);
	 padding: 12px;
	 display: flex;
	 flex-direction: column;
	 align-items: flex-end;
	 justify-content: flex-end;
}
 .video-info-text {
	 width: calc(100% - 40px);
}
 .video-info-text p {
	 margin: 0;
}
 .video-name, .video-subtext {
	 color: #fff;
	 overflow: hidden;
	 text-overflow: ellipsis;
	 white-space: nowrap;
}
 .video-name.medium, .video-subtext.medium {
	 font-size: 14px;
	 line-height: 24px;
}
 .video-name.tiny, .video-subtext.tiny {
	 font-size: 12px;
	 line-height: 16px;
}
 .video-info {
	 width: 100%;
	 display: flex;
	 justify-content: space-between;
}
 .video-subtext {
	 opacity: 0.8;
}
 .files-table {
	 background-color: #fff;
	 box-shadow: 0 2px 6px 0 rgba(136, 148, 171, .2), 0 24px 20px -24px rgba(71, 82, 107, .1);
	 border-radius: 12px;
	 padding: 12px;
	 display: table;
	 table-layout: auto;
	 width: 100%;
}
 .files-table-header {
	 display: table-header-group;
}
 .files-table-row {
	 display: table-row-group;
}
 .table-cell {
	 display: table-cell;
	 font-size: 12px;
	 line-height: 16px;
	 color: #000;
	 padding: 8px;
}
 .column-header {
	 font-size: 12px;
	 line-height: 16px;
	 color: #888da9;
}
 .name-cell {
	 width: 40%;
	 word-break: break-all;
}
 .name-cell.pdf:before {
	 content: 'PDF';
	 background-color: #e2e9f8;
	 color: #5a8ff7;
}
 .name-cell.jpg:before {
	 content: 'JPG';
	 background-color: #e4e2f1;
	 color: #302d7d;
}
 .name-cell:before {
	 border-radius: 4px;
	 font-size: 8px;
	 display: flex;
	 align-items: center;
	 justify-content: center;
	 padding: 4px;
	 display: inline-block;
	 vertical-align: middle;
	 margin-right: 4px;
}
 .size-cell {
	 width: 20%;
}
 .more-action {
	 border: none;
	 background-color: transparent;
	 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%23888da9' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' class='feather feather-more-horizontal' viewBox='0 0 24 24'%3E%3Cdefs/%3E%3Ccircle cx='12' cy='12' r='1'/%3E%3Ccircle cx='19' cy='12' r='1'/%3E%3Ccircle cx='5' cy='12' r='1'/%3E%3C/svg%3E");
	 background-repeat: no-repeat;
	 background-position: center;
	 background-size: contain;
	 width: 24px;
	 height: 16px;
	 outline: none;
	 cursor: pointer;
}
 .fixed.main-area-header {
	 position: sticky;
	 z-index: 2;
	 top: 0;
	 width: 100%;
	 padding: 12px 40px;
	 transition: 0.2s;
	 animation: sticky 0.5s forwards;
}
 @keyframes sticky {
	 0% {
		 transform: translatey(-88px);
	}
	 100% {
		 transform: translatey(0px);
	}
}
 .video-time {
	 position: absolute;
	 z-index: 1;
	 border-radius: 10px;
	 padding: 4px 12px;
	 background-color: rgba(139, 156, 163, .5);
	 font-size: 10px;
	 right: 12px;
	 top: 12px;
	 color: #fff;
}
 .btn-play {
	 border-radius: 50%;
	 background-color: #fff;
	 border: none;
	 box-shadow: 0 2px 6px 0 rgba(136, 148, 171, .2), 0 24px 20px -24px rgba(71, 82, 107, .1);
	 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='%2322244a' stroke='%2322244a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-play'%3E%3Cpolygon points='5 3 19 12 5 21 5 3'/%3E%3C/svg%3E");
	 background-position: center;
	 background-repeat: no-repeat;
	 width: 40px;
	 height: 40px;
	 flex-shrink: 0;
}
 /* Modify the right-area (download tab) */
.right-area {
    flex-basis: 400px; /* Increase this value to make the right area wider */
    flex-grow: 0;
    background: linear-gradient(180deg, rgba(224, 233, 253, 1) 0%, rgba(233, 236, 241, 1) 90%);
    transition: all 300ms cubic-bezier(0.19, 1, 0.56, 1);
    width: auto; /* Allow the width to grow based on the content */
}

.right-area.show {
    transform: translateX(0);
    width: 100%; /* Optional: You can remove this if you want to keep the right area at a fixed width */
    opacity: 1;
}

/* Optional: If you want to adjust the width of other containers inside the right area */
.download-list {
    max-width: 100%; /* Ensure the download list fills the available space */
}

/* Increase the container width for any other sections that need more space */
.content-section {
    padding: 0 40px;
    max-width: 100%;
}
 .right-area-header-wrapper {
	 display: flex;
	 align-items: center;
	 justify-content: space-between;
}
 .right-area-header-wrapper .more-action {
	 width: 24px;
	 height: 24px;
}
 .download-item-line {
	 padding: 12px 0;
}
 .line-header {
	 font-size: 12px;
	 line-height: 16px;
	 color: #888da9;
}
 .download-area {
	 background-color: #eceffb;
	 border-radius: 12px;
	 padding: 8px;
	 display: flex;
	 align-items: center;
	 margin-top: 12px;
	 cursor: pointer;
}
 .download-item-texts {
	 padding: 0 12px;
}
 .download-item-texts p {
	 line-height: 16px;
	 margin: 0;
	 white-space: nowrap;
	 overflow: hidden;
	 text-overflow: ellipsis;
	 width: 150px;
}
 .download-text-header {
	 font-size: 12px;
}
 .download-text-info {
	 color: #888da9;
	 font-size: 10px;
}
 .download-text-info span {
	 margin-left: 8px;
}
 .download-item-icon {
	 width: 32px;
}
 .download-icon {
	 width: 24px;
	 fill: #4bc3a7;
}
 .progress-bar {
	 height: 4px;
	 width: 100%;
	 overflow: hidden;
	 border-radius: 2px;
	 background-color: #dadff3;
	 margin: 6px 0;
}
 .progress {
	 height: 100%;
	 width: 40%;
	 background-color: #4bc0dd;
	 display: block;
}
 .received-item-line {
	 height: 150px;
	 width: 100%;
	 padding-top: 12px;
	 display: flex;
	 padding-left: 4px;
}
 .progress-line {
	 height: 100%;
	 width: 2px;
	 background-color: #22244a;
	 display: flex;
	 justify-content: space-between;
	 flex-direction: column;
	 position: relative;
}
 .progress-line:before, .progress-line:after {
	 content: '';
	 position: absolute;
	 width: 10px;
	 height: 10px;
	 border-radius: 50%;
	 background-color: #22244a;
	 transform: translateX(-50%);
	 left: 50%;
}
 .progress-line:after {
	 bottom: 0;
}
 .time {
	 margin-left: 12px;
	 font-size: 10px;
	 color: #888da9;
}
 .received-items-content {
	 padding: 24px 10px;
}
 .received-files {
	 display: flex;
	 height: 70%;
}
 .received-files .image-wrapper {
	 margin-left: 6px;
	 display: flex;
}
 .received-files-info {
	 font-size: 12px;
	 line-height: 16px;
	 margin-left: 12px;
	 margin-top: 12px;
}
 .received-files-info span {
	 color: #7a8dc5;
}
 .btn-show-left-area, .btn-show-right-area {
	 position: absolute;
	 top: 24px;
	 width: 32px;
	 height: 40px;
	 border-radius: 4px;
	 background-color: #fff;
	 border: none;
	 display: flex;
	 align-items: center;
	 justify-content: center;
	 outline: none;
	 cursor: pointer;
	 display: none;
}
 .btn-show-left-area {
	 left: 0;
	 border-radius: 0 4px 4px 0;
}
 .btn-show-right-area {
	 right: 0;
	 border-radius: 4px 0 0 4px;
}
 .btn-close-left, .btn-close-right {
	 border: none;
	 background-color: transparent;
	 position: absolute;
	 top: 4px;
	 right: 4px;
	 color: var(--light-font);
	 outline: none;
	 cursor: pointer;
	 display: none;
}
 .show .btn-close-left, .show .btn-close-right {
	 display: block;
}
 @media screen and (min-width: 850px) and (max-width: 1042px) {
	 .access-icon {
		 padding: 16px;
	}
	 .access-icon svg {
		 width: 20px;
		 height: 20px;
	}
}
 @media screen and (max-width: 900px) {
	 .right-area {
		 transform: translateX(100%);
		 position: absolute;
		 opacity: 0;
		 z-index: 2;
		 height: 100%;
		 box-shadow: 0 0 0 10px rgba(255, 255, 255, .4);
	}
	 .btn-show-right-area {
		 display: flex;
	}
	 .access-icon svg {
		 width: 36px;
		 height: 36px;
	}
}
 @media screen and (max-width: 768px) {
	 .left-area {
		 transform: translateX(-100%);
		 opacity: 0;
		 position: absolute;
		 z-index: 2;
		 height: 100%;
		 background-color: #fff;
		 background-image: none;
		 box-shadow: 0 0 0 10px rgba(255, 255, 255, .4);
	}
	 .btn-show-left-area {
		 display: flex;
	}
	 .content-section-line, .content-part-line {
		 flex-direction: column;
	}
	 .image-wrapper {
		 margin: 10px 0;
	}
	 .video-name.tiny, .video-subtext.tiny {
		 font-size: 16px;
		 line-height: 24px;
	}
	 .access-link-wrapper {
		 width: 33.3%;
	}
}
 @media screen and (max-width: 520px) {
	 body {
		 padding: 0;
	}
	 .app-container {
		 border-radius: 0;
	}
	 .content-section {
		 padding: 0 20px;
	}
	 .content-section-line {
		 margin: 0;
	}
}
 
	</style>
</head>
<body>


<link href="https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&display=swap" rel="stylesheet">
<div class="app-container">
<!-- Login Modal -->
<div id="loginModal" style="
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  background: linear-gradient(135deg, #74ebd5 0%, #acb6e5 100%);
  padding:30px;
  border-radius:15px;
  box-shadow:0px 10px 25px rgba(0,0,0,0.3);
  z-index:1000;
  width:320px;
  animation: popUp 0.4s ease-out;
  font-family: 'Poppins', sans-serif;
">
  <!-- Close Button -->
  <button onclick="closeLoginModal()" style="
    position: absolute;
    top: 10px;
    right: 10px;
    background: none;
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
  ">&times;</button>

  <h2 style="text-align:center; color:white; margin-bottom:20px;">Login</h2>

  <input type="text" id="loginUsername" placeholder="Username" style="
    display:block;
    margin-bottom:15px;
    width:100%;
    padding:10px;
    border:none;
    border-radius:8px;
    font-size:16px;
    outline:none;
  ">

  <input type="password" id="loginPassword" placeholder="Password" style="
    display:block;
    margin-bottom:20px;
    width:100%;
    padding:10px;
    border:none;
    border-radius:8px;
    font-size:16px;
    outline:none;
  ">

  <button onclick="loginUser()" style="width:100%; padding:12px; background-color:#4e54c8; color:white; border:none; border-radius:8px; font-size:16px; font-weight:bold; cursor:pointer; margin-bottom:15px; transition:background 0.3s;">Login</button>

<!-- Google Identity Services Sign-In -->
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>

  <!-- Google Sign-In -->
  <div id="g_id_onload" 
   data-client_id="744785138803-13k3tkqvd0gfs1blvr3a5ogfq1fm6o04.apps.googleusercontent.com" 
   data-context="signin" 
   data-ux_mode="popup" 
   data-callback="handleGoogleLogin" 
   data-auto_prompt="false">
</div>

  <div class="g_id_signin" data-type="standard" data-shape="rectangular" data-theme="filled_blue" data-text="continue_with" data-size="large" data-logo_alignment="left"></div>

</div>

<!-- Animation for the modal -->
<style>
  @keyframes popUp {
    0% { transform:translate(-50%, -60%) scale(0.9); opacity:0; }
    100% { transform:translate(-50%, -50%) scale(1); opacity:1; }
  }
  #loginModal button:hover {
    background-color: #6c63ff;
  }
</style>
<script>
  function handleGoogleLogin(response) {
    const data = jwt_decode(response.credential);
    if (data && data.email) {
      localStorage.setItem('googleUserEmail', data.email);
      console.log("Email saved to localStorage:", data.email);
    }
  }
</script>
<!-- Google Identity Services -->

<script src="https://accounts.google.com/gsi/client" async defer></script>

<!-- Firebase App SDK -->
<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyD6BWxdK_BZpAH0SMXEIFy1uA7XdwBhddg",
    authDomain: "teleport-b0434.firebaseapp.com",
    projectId: "teleport-b0434",
    storageBucket: "teleport-b0434.appspot.com",
    messagingSenderId: "873499675326",
    appId: "1:873499675326:web:3e83e2e84b97a37c662cef",
    measurementId: "G-PPZZTHST0M"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const database = firebase.database();
</script>
<script>
  // Called by Google Identity Services on successful login
  function handleGoogleLogin(response) {
    const idToken = response.credential;

    // Convert GIS token into Firebase credential
    const credential = firebase.auth.GoogleAuthProvider.credential(idToken);

    // Sign in with Firebase using the credential
    auth.signInWithCredential(credential)
      .then((result) => {
        const user = result.user;

        // Store user in Realtime Database
        database.ref('user_logins/' + user.uid).set({
          email: user.email,
          displayName: user.displayName,
          uid: user.uid,
          timestamp: firebase.database.ServerValue.TIMESTAMP
        });

        alert(`Welcome ${user.displayName || user.email}`);
        console.log("User signed in and stored:", user.email);
      })
      .catch((error) => {
        console.error("Firebase login error:", error.message);
        alert("Login failed: " + error.message);
      });
  }
</script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyD6BWxdK_BZpAH0SMXEIFy1uA7XdwBhddg",
    authDomain: "teleport-b0434.firebaseapp.com",
    projectId: "teleport-b0434",
    storageBucket: "teleport-b0434.appspot.com",
    messagingSenderId: "873499675326",
    appId: "1:873499675326:web:3e83e2e84b97a37c662cef",
    measurementId: "G-PPZZTHST0M"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const database = firebase.database();
</script>

<script>
  function loginUser() {
    const email = document.getElementById('loginUsername').value.trim();
    const password = document.getElementById('loginPassword').value.trim();

    if (!email || !password) {
      alert("Please fill out both fields.");
      return;
    }

    // Use Firebase Authentication to validate login
    firebase.auth().signInWithEmailAndPassword(email, password)
      .then((userCredential) => {
        const user = userCredential.user;

        // ‚úÖ Store login info in Realtime Database
        database.ref('user_logins/' + user.uid).set({
          email: user.email,
          uid: user.uid,
          timestamp: firebase.database.ServerValue.TIMESTAMP
        });

        alert(`‚úÖ Login successful: ${user.email}`);
        closeLoginModal();
      })
      .catch((error) => {
        alert("‚ùå Login failed: " + error.message);
        console.error("Login error:", error.message);
      });
  }
</script>



<script>
  function closeLoginModal() {
    document.getElementById('loginModal').style.display = 'none';
  }
</script>

<script>
  function updateLoginCount() {
    database.ref('user_logins').once('value').then((snapshot) => {
      const userLogins = snapshot.val();
      const uniqueUsers = new Set();
      for (let id in userLogins) {
        uniqueUsers.add(userLogins[id].email);
      }
      document.getElementById('loginCountDisplay').innerText = `Users who logged in: ${uniqueUsers.size}`;
    });
  }
  updateLoginCount();
</script>

<!-- Where login count will show -->
<div id="loginCountDisplay" style="text-align:center; margin-top:10px; color:white; font-weight:bold;"></div>

  <!-- Share Modal -->
  <div id="shareModal" style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%); background:white; padding:20px; border-radius:10px; box-shadow:0px 0px 10px rgba(0,0,0,0.3); z-index:1000;">
    <h3>Share File</h3>
    <input type="file" id="shareFileInput" style="display:block; margin-bottom:10px;">
    <input type="text" id="shareUsername" placeholder="Enter username to share with" style="display:block; margin-bottom:10px; width:100%; padding:8px;">
    <button onclick="shareFile()" style="padding:8px 16px;">Share</button>
  </div>

  <div class="left-area">
    <button class="btn-close-left">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-x-circle" viewBox="0 0 24 24">
        <defs/>
        <circle cx="12" cy="12" r="10"/>
        <path d="M15 9l-6 6M9 9l6 6"/>
      </svg>
     </button>
   <div class="app-name">Our-Docs</div>
    <a href="#" class="item-link active" id="userLink">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-user" viewBox="0 0 24 24">
    <path d="M20 21v-2a4 4 0 0 0-3-3.87M4 21v-2a4 4 0 0 1 3-3.87M16 3a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"/>
  </svg>
</a>
<script type="text/javascript">
	document.getElementById('userLink').addEventListener('click', function(event) {
  event.preventDefault(); // Stop default link behavior
  document.getElementById('loginPage').style.display = 'block';
  document.getElementById('mainApp').style.display = 'none';
});

</script>


    <!-- Folder Button -->
<a href="#" class="item-link" id="pageLink">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-folder" viewBox="0 0 24 24">
    <path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z" />
  </svg>
</a>

<!-- Folder Modal -->
<style>
/* Folder Modal */
.modal-container {
  display: none;
  position: fixed;
  top: 50%;
  left: 25%;
  transform: translate(-50%, -50%);
  z-index: 1000;
  cursor: move;
  animation: fadeIn 0.4s ease;
}



.modal-content {
  background: linear-gradient(135deg, #ffffff, #f2f3ff);
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
  position: relative;
  width: 98%;             /* Nearly full width */
  max-width: 1500px;      /* Very large modal */
  height: 55vh;
  overflow-y: auto;
  animation: slideUp 0.4s ease;
}

/* Stylish Choose File Button */
.custom-file-input-wrapper {
  position: relative;
  overflow: hidden;
  display: inline-block;
  margin-top: 10px;
}
.custom-file-input-wrapper input[type=file] {
  font-size: 100px;
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
}
.custom-file-input-btn {
    font-size: 14px; /* Smaller text */
    padding: 6px 10px; /* Smaller padding */
    position: relative;
    overflow: hidden;
    display: inline-block;
    cursor: pointer;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
  }

.custom-file-input-btn:hover {
  background-color: #3c41c9;
}

/* Delete All Button */
.delete-all-btn {
  background: #e74c3c;
  color: white;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  float: right;
  margin-bottom: 10px;
}
.delete-all-btn:hover {
  background: #c0392b;
}
.close-button {
  position: absolute;
  top: 12px;
  right: 16px;
  font-size: 20px;
  color: #999;
  cursor: pointer;
}
.close-button:hover {
  color: #000;
}

.modal-title {
  margin-top: 0;
  font-size: 1.3em;
  text-align: center;
}

.modal-input {
  width: 100%;
  padding: 10px;
  margin-top: 12px;
  border: 1px solid #ccc;
  border-radius: 8px;
}

.modal-button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  background-color: #4b50dd;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1em;
  cursor: pointer;
}
.modal-button:hover {
  background-color: #3a3fcf;
}

.folder-list div {
  margin: 8px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.folder-list button {
  background: #e1e3ff;
  border: none;
  padding: 5px 10px;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.3s ease;
}
.folder-list button:hover {
  background: #c8ccff;
}

/* Upload Modal */
#uploadModal {
  display: none;
  position: fixed; /* use fixed instead of absolute */
  left: 35%;
  top: 50%;
  transform: translate(-50%, -50%) translateX(200px); /* center + push to right */
  width: 300px;
  background: #fff;
  border-radius: 12px;
  padding: 20px;
  z-index: 1001;
  box-shadow: 0 0 20px rgba(0,0,0,0.2);
  cursor: move; /* enable drag cursor */
}

#uploadModal h3 {
  margin-top: 0;
}
#uploadModal input[type="file"] {
  margin: 10px 0;
}
#uploadModal button {
  background: #4b50dd;
  color: white;
  padding: 8px 12px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
#fileList a {
  display: block;
  margin-top: 5px;
  color: #333;
  text-decoration: none;
}
.choose-folder-btn {
  width: 100%; /* Make the button fill the width of the modal */
  padding: 15px;
  background-color: #4b50dd; /* Match the modal color theme */
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1.2em;  /* Make the text larger */
  cursor: pointer;
  text-align: center; /* Center align the text */
  box-sizing: border-box; /* Ensure padding is included in width calculation */
  transition: background-color 0.3s ease, transform 0.2s ease;
}

.choose-folder-btn:hover {
  background-color: #3c41c9; /* Darker shade on hover */
  transform: scale(1.05); /* Slight grow effect on hover */
}

</style>
<!-- Folder Modal --><!-- Folder Modal HTML -->
<div id="folderModal" class="modal-container" onmousedown="startDrag(event)">
  <div class="modal-content" id="folderModalContent">
    <span class="close-button" onclick="closeFolderModal()">‚úñ</span>
    <h3 class="modal-title">üìÅ Your Folders</h3>
    <input type="text" id="folderName" placeholder="New Folder Name" class="modal-input">
    <button onclick="createFolder()" class="modal-button">+ Create Folder</button>
    <hr class="modal-divider">
    <div id="folderList" class="folder-list"></div>
  </div>
</div>

<!-- Upload Panel -->
<!-- Upload Modal (Include inside your body) -->
<div id="uploadModal" class="modal-container" onmousedown="startDrag(event)">


  <div class="modal-content">
    <span class="close-button" onclick="closeUpload()">‚úñ</span>
    <h3 class="modal-title" id="uploadFolderTitle">Folder: </h3>
<small style="display: block; margin-bottom: 5px; color: gray; font-style: italic;">
  üìÑ Click on uploaded file to download
</small>
    <!-- Upload File Section -->
    <div class="custom-file-input-wrapper">
      <button class="custom-file-input-btn">üìÅ Choose File
        <input type="file" id="uploadFile" onchange="previewFileName()" />
      </button>
    </div>
    <span id="fileNameDisplay" style="margin-left: 10px; font-style: italic;"></span>

    <button onclick="uploadToFolder()" class="modal-button">‚¨ÜÔ∏è Upload</button>

    <!-- File List with Delete All -->
    <hr class="modal-divider">
    <div>
      <button class="delete-all-btn" onclick="deleteAllFiles()">üóëÔ∏èDelete All </button>
      <div id="fileList" style="clear: both; padding-top: 10px;"></div>
    </div>
  </div>
</div>
<script type="text/javascript">
  // Function to render the list of files with delete option
  
</script>
<!-- Add the following script at the end of your HTML document -->
<script type="text/javascript">
let selectedFolder = '';

// Function to preview the file name after selection
function previewFileName() {
  const fileInput = document.getElementById('uploadFile');
  const fileNameDisplay = document.getElementById('fileNameDisplay');
  if (fileInput.files.length > 0) {
    fileNameDisplay.textContent = fileInput.files[0].name;
  } else {
    fileNameDisplay.textContent = '';
  }
}

// Function to upload a file to the selected folder
function uploadToFolder() {
  const fileInput = document.getElementById('uploadFile');
  const file = fileInput.files[0];
  if (!file) return alert('No file selected');

  const uploadTime = new Date().toLocaleString();
  const url = URL.createObjectURL(file);
  const folders = getFolders();
  const folder = folders.find(f => f.name === selectedFolder);

  folder.files.push({ name: file.name, url, uploadTime });
  saveFolders(folders);
  fileInput.value = '';
  previewFileName();
  renderFiles();
}

// Function to delete a single file by index
function deleteFile(index) {
  const folders = getFolders();
  const folder = folders.find(f => f.name === selectedFolder);
  folder.files.splice(index, 1);
  saveFolders(folders);
  renderFiles(); // Re-render the file list
}


// Function to delete all files
function deleteAllFiles() {
  const folders = getFolders();
  const folder = folders.find(f => f.name === selectedFolder);
  
  // Show the list of files for individual deletion
  const fileList = document.getElementById('fileList');
  fileList.innerHTML = ''; // Clear previous content
  
  if (folder.files.length > 0) {
    folder.files.forEach((file, index) => {
      const fileItem = document.createElement('div');
      fileItem.classList.add('file-item');
      fileItem.innerHTML = `
        <div style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center;">
          <div>
            <b>üìÑ <a href="${file.url}" download="${file.name}" style="text-decoration: underline; color: blue;">${file.name}</a></b><br>
            <small>üïí <strong>Uploaded at:</strong> ${file.uploadTime}</small>
          </div>
          <div>
            <button onclick="deleteFile(${index})" style="background: none; border: none; cursor: pointer; font-size: 18px;" title="Delete this file">‚ùå</button>
          </div>
        </div>
        <hr/>
      `;
      fileList.appendChild(fileItem);
    });
  }
}


// Function to render the list of files
function renderFiles() {
    const folders = getFolders();
    const folder = folders.find(f => f.name === selectedFolder);
    const fileList = document.getElementById('fileList');
    fileList.innerHTML = ''; // Clear current file list

    if (folder.files.length > 0) {
      // Add instruction text
      const instruction = document.createElement('p');
      instruction.style.fontStyle = 'italic';
      instruction.style.color = '#555';
      instruction.textContent = 'üìÑ Click on file to download or ‚ùå to delete';
      fileList.appendChild(instruction);
    }

    folder.files.forEach((file, index) => {
      const fileItem = document.createElement('div');
      fileItem.classList.add('file-item');
      
      fileItem.innerHTML = `
        <div style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center;">
          <div>
            <b>üìÑ <a href="${file.url}" download="${file.name}" style="text-decoration: underline; color: blue;">${file.name}</a></b>
            <button onclick="deleteFile(${index})" style="background: none; border: none; cursor: pointer; font-size: 18px; margin-left: 10px;" title="Delete this file">‚ùå</button><br>
            <small>üïí <strong>Uploaded at:</strong> ${file.uploadTime}</small>
          </div>
        </div>
        <hr/>
      `;
      
      fileList.appendChild(fileItem); // Add each file item to the list
    });
  }

  // Function to delete a specific file by index
  function deleteFile(index) {
    const folders = getFolders();
    const folder = folders.find(f => f.name === selectedFolder);
    folder.files.splice(index, 1); // Remove the file from the array
    saveFolders(folders); // Save the updated folder data
    renderFiles(); // Re-render the file list
  }

  // Function to delete all files in the folder
  function deleteAllFiles() {
    if (!confirm("Are you sure you want to delete all files in this folder?")) return;

    const folders = getFolders();
    const folder = folders.find(f => f.name === selectedFolder);
    folder.files = []; // Clear all files
    saveFolders(folders); // Save the updated folder data
    renderFiles(); // Re-render the file list
  }
// Helpers for folder storage
function getFolders() {
  return JSON.parse(localStorage.getItem('folders') || '[]');
}

function saveFolders(folders) {
  localStorage.setItem('folders', JSON.stringify(folders));
}

// Modal control
function openUpload(folderName) {
  selectedFolder = folderName;
  document.getElementById('uploadFolderTitle').innerText = `Folder: ${folderName}`;
  document.getElementById('uploadModal').style.display = 'block';
  renderFiles();
}

function closeUpload() {
  document.getElementById('uploadModal').style.display = 'none';
}
</script>



<script type="text/javascript">
  // Function to preview the file name after selection
  function previewFileName() {
    const fileInput = document.getElementById('uploadFile');
    const fileNameDisplay = document.getElementById('fileNameDisplay');
    if (fileInput.files.length > 0) {
      fileNameDisplay.textContent = fileInput.files[0].name;
    } else {
      fileNameDisplay.textContent = '';
    }
  }
function renderFiles() {
  const folders = getFolders();
  const folder = folders.find(f => f.name === selectedFolder);
  const fileList = document.getElementById('fileList');
  fileList.innerHTML = ''; // Clear current file list

  if (folder.files.length > 0) {
    // Add instruction text
    const instruction = document.createElement('p');
    instruction.style.fontStyle = 'italic';
    instruction.style.color = '#555';
    instruction.textContent = 'üìÑ Click on file to download';
    fileList.appendChild(instruction);
  }

  folder.files.forEach(file => {
    const fileItem = document.createElement('div');
    fileItem.classList.add('file-item');
    fileItem.innerHTML = `
      <div style="margin-top: 10px;">
        <b>File Name:</b> <a href="${file.url}" download="${file.name}" style="text-decoration: underline; color: blue;">${file.name}</a><br>
        <small><strong>Uploaded at:</strong> ${file.uploadTime}</small>
      </div>
      <hr/>
    `;
    fileList.appendChild(fileItem); // Add each file item
  });
}

  // Function to delete all files in the folder
  function deleteAllFiles() {
    if (!confirm("Are you sure you want to delete all files in this folder?")) return;

    const folders = getFolders();
    const folder = folders.find(f => f.name === selectedFolder);
    folder.files = [];
    saveFolders(folders);
    renderFiles();
  }

  // Function to delete a specific folder
  function deleteFolder(folderName) {
    if (!confirm("Are you sure you want to delete this folder?")) return;

    const folders = getFolders();
    const updatedFolders = folders.filter(folder => folder.name !== folderName);
    saveFolders(updatedFolders);
    renderFolders();
  }

  // Function to get folders from local storage
  function getFolders() {
    return JSON.parse(localStorage.getItem('folders') || '[]');
  }

  // Function to save folders to local storage
  function saveFolders(folders) {
    localStorage.setItem('folders', JSON.stringify(folders));
  }

  // Function to open the folder modal
  function openFolderModal() {
    document.getElementById('folderModal').style.display = 'block';
  }

  // Function to close the folder modal
  function closeFolderModal() {
    document.getElementById('folderModal').style.display = 'none';
  }

  // Function to create a new folder
  function createFolder() {
    const name = document.getElementById('folderName').value.trim();
    if (!name) return alert('Folder name required');
    const folders = getFolders();
    if (folders.find(f => f.name === name)) return alert('Folder exists');
    folders.push({ name, files: [] });
    saveFolders(folders);
    document.getElementById('folderName').value = '';
    renderFolders();
  }

  // Function to render folders
  function renderFolders() {
    const folders = getFolders();
    const folderList = document.getElementById('folderList');
    folderList.innerHTML = '';

    folders.forEach(folder => {
      const div = document.createElement('div');
      div.innerHTML = `
        <b>${folder.name}</b>
        <button onclick="openUpload('${folder.name}')">Open Folder</button>
        <button onclick="deleteFolder('${folder.name}')">üóë</button>
      `;
      folderList.appendChild(div);
    });
  }

  // Function to open the upload modal for a specific folder
  function openUpload(folderName) {
    selectedFolder = folderName;
    document.getElementById('uploadFolderTitle').innerText = `Folder: ${folderName}`;
    document.getElementById('uploadModal').style.display = 'block';
    renderFiles();
  }

  // Function to close the upload modal
  function closeUpload() {
    document.getElementById('uploadModal').style.display = 'none';
  }

  // Function to upload a file to the selected folder
  function uploadToFolder() {
    const fileInput = document.getElementById('uploadFile');
    const file = fileInput.files[0];
    if (!file) return alert('No file selected');
    const url = URL.createObjectURL(file);
    const folders = getFolders();
    const folder = folders.find(f => f.name === selectedFolder);
    folder.files.push({ name: file.name, url });
    saveFolders(folders);
    fileInput.value = '';
    renderFiles();
  }

  // Function to render the files inside the selected folder
  function renderFiles() {
    const folders = getFolders();
    const folder = folders.find(f => f.name === selectedFolder);
    const fileList = document.getElementById('fileList');
    fileList.innerHTML = '';

    folder.files.forEach(file => {
      const link = document.createElement('a');
      link.href = file.url;
      link.download = file.name;
      link.textContent = `üìÑ ${file.name}`;
      fileList.appendChild(link);
    });
  }

  // Drag to Move functionality for the folder modal
  let isDragging = false, offsetX, offsetY;
  function startDrag(e) {
    const modal = document.getElementById('folderModal');
    isDragging = true;
    offsetX = e.clientX - modal.offsetLeft;
    offsetY = e.clientY - modal.offsetTop;
    document.addEventListener('mousemove', drag);
    document.addEventListener('mouseup', stopDrag);
  }
  
  function drag(e) {
    if (!isDragging) return;
    const modal = document.getElementById('folderModal');
    modal.style.left = `${e.clientX - offsetX}px`;
    modal.style.top = `${e.clientY - offsetY}px`;
  }
  
  function stopDrag() {
    isDragging = false;
    document.removeEventListener('mousemove', drag);
    document.removeEventListener('mouseup', stopDrag);
  }

  // Event listener for the folder modal
  document.getElementById('pageLink').addEventListener('click', () => {
    openFolderModal();
    renderFolders();
  });
</script>



<a href="#" class="item-link" id="pageLink" onclick="openIframePopup()">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-hard-drive" viewBox="0 0 24 24">
    <path d="M22 12H2M5.45 5.11L2 12v6a2 2 0 002 2h16a2 2 0 002-2v-6l-3.45-6.89A2 2 0 0016.76 4H7.24a2 2 0 00-1.79 1.11zM6 16h.01M10 16h.01" />
  </svg>
</a>

<script>
function openIframePopup() {
  const screenWidth = window.innerWidth;
  const screenHeight = window.innerHeight;

  const popupWidth = screenWidth * 0.9;  // 90% of screen width
  const popupHeight = screenHeight * 0.7; // 70% of screen height

  const left = (screenWidth - popupWidth) / 2;
  const top = (screenHeight - popupHeight) / 2;

  const popup = window.open('', 'iframePopup', `width=${popupWidth},height=${popupHeight},top=${top},left=${left}`);

  popup.document.write(`
    <html>
      <head>
        <title>Task Manager</title>
        <style>
          body, html {
            margin: 0;
            padding: 0;
            height: 100%;
          }
          iframe {
            width: 100%;
            height: 100%;
            border: none;
          }
        </style>
      </head>
      <body>
        <iframe src="https://sugamkaistha1224.github.io/taskmanager/" allowfullscreen></iframe>
      </body>
    </html>
  `);
}
</script>


    <a href="#" class="item-link" id="pageLink">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-settings" viewBox="0 0 24 24">
        <defs />
        <circle cx="12" cy="12" r="3" />
        <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z" />
      </svg>
    </a>
  <!-- Share Button -->
<button class="btn-logout" onclick="generateShareLink()">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-share" viewBox="0 0 24 24">
    <path d="M18 15l4-4-4-4M3 12h18M6 9l-4 4 4 4"/>
  </svg>
  <span>Share</span>
</button>

<script type="text/javascript">
    // Function to generate the shareable link
    function generateShareLink() {
      // Retrieve the list of uploaded files from localStorage
      const uploadedFiles = JSON.parse(localStorage.getItem('uploadedFiles')) || [];
      
      if (uploadedFiles.length === 0) {
        alert('No files uploaded to share.');
        return;
      }
function generateShareLink() {
  const uploadedFiles = JSON.parse(localStorage.getItem('uploadedFiles')) || [];

  if (uploadedFiles.length === 0) {
    alert('No files uploaded.');
    return;
  }

  const fileLinks = uploadedFiles.map(file => `file=${encodeURIComponent(file.url)}&name=${encodeURIComponent(file.name)}`).join('&');
  const shareableLink = window.location.href.split('?')[0] + '?share=true&' + fileLinks;

  prompt('Share this link or QR Code:', shareableLink);
  
  // Optionally generate QR
  generateQRCode(shareableLink);
}





      const fileLinks = uploadedFiles.map(file => `file=${encodeURIComponent(file.url)}&name=${encodeURIComponent(file.name)}`).join('&');
      const shareableLink = window.location.href.split('?')[0] + '?share=true&' + fileLinks;

      prompt('Share this link with others to download your files:', shareableLink);
    }

    // On window load, check if the URL contains the 'share' parameter
    window.onload = function() {
      const urlParams = new URLSearchParams(window.location.search);
      const isShare = urlParams.get('share');

      if (isShare) {
        const fileParams = urlParams.toString().split('&').slice(1);
        const files = fileParams.map(param => {
          const [file, name] = param.split('&').map(p => decodeURIComponent(p.split('=')[1]));
          return { name, url: file };
        });

        files.forEach(file => {
          const downloadLink = document.createElement('a');
          downloadLink.href = file.url;
          downloadLink.textContent = `Download ${file.name}`;
          document.body.appendChild(downloadLink);
          document.body.appendChild(document.createElement('br'));
        });
      }
    }
  </script>


  </div>

 <script>
 
  document.getElementById('userLink').addEventListener('click', function(event) {
    event.preventDefault(); // Stop default link behavior
    document.getElementById('loginModal').style.display = 'block'; // Show login modal
    // Assuming there is a 'mainApp' section you want to hide, make sure this element exists in your HTML.
    if (document.getElementById('mainApp')) {
      document.getElementById('mainApp').style.display = 'none'; // Hide main app
    }
  });

  let currentUser = null;

  // Open the login modal
  function openLoginModal() {
    document.getElementById('loginModal').style.display = 'block';
  }

  // Handle manual login with username/password
  function loginUser() {
    const username = document.getElementById('loginUsername').value;
    const password = document.getElementById('loginPassword').value;

    if (username && password) {
      alert('Manual Login successful!');
      document.getElementById('loginModal').style.display = 'none';
      if (document.getElementById('mainApp')) {
        document.getElementById('mainApp').style.display = 'block'; // Show main app after successful login
      }
    } else {
      alert('Please enter username and password.');
    }
  }

  // Handle Google login callback
  function handleGoogleLogin(response) {
    const jwt = response.credential;
    const payload = JSON.parse(atob(jwt.split('.')[1]));

    console.log('Google User:', payload);

    const userEmail = payload.email;
    const userName = payload.name;

    currentUser = userEmail; // Store Gmail ID

    alert('Google Login successful! Welcome ' + userName + ' (' + userEmail + ')');
    document.getElementById('loginModal').style.display = 'none';
    if (document.getElementById('mainApp')) {
      document.getElementById('mainApp').style.display = 'block'; // Show main app after successful login
    }
  }
</script>

  <!-- Include Google Identity Services script -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>



  <div class="main-area">
    <button class="btn-show-right-area">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <button class="btn-show-left-area">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </button>

  <style type="text/css">
   /* Initial search icon style */
.search-icon {
  transition: all 0.3s ease;  /* Smooth transition */
}

/* Highlight effect on click */
.search-icon.clicked {
  background-color: #ffcc00; /* Highlight color */
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); /* Soft shadow */
  transform: scale(1.1);  /* Slightly increase size */
}

</style>

       
<div class="main-area-header">
  <div class="search-wrapper" id="searchLine">
  
    <input class="search-input" type="text" placeholder="e.g. files.doc" id="searchInput">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-search search-icon" viewBox="0 0 24 24">
      <defs/>
      <circle cx="11" cy="11" r="8"/>
      <path d="M21 21l-4.35-4.35"/>
    </svg>
  </div>
</div>

<script type="text/javascript">
  // Function to highlight the search term in the page
  function highlightSearchTerm() {
    const searchTerm = document.getElementById('searchInput').value.trim().toLowerCase();
    if (searchTerm === "") {
      removeHighlight();  // Remove highlight if input is empty
      return;
    }

    const bodyText = document.body.innerHTML;
    const regex = new RegExp(`(${searchTerm})`, 'gi'); // 'gi' for case-insensitive search
    const highlightedText = bodyText.replace(regex, `<span class="highlight">$1</span>`);

    document.body.innerHTML = highlightedText;
  }

  // Function to remove existing highlights
  function removeHighlight() {
    const highlightedElements = document.querySelectorAll('.highlight');
    highlightedElements.forEach(element => {
      element.classList.remove('highlight');
    });
  }

  // Event listener to trigger search when the user clicks the search icon
  document.querySelector('.search-icon').addEventListener('click', function() {
    const searchTerm = document.getElementById('searchInput').value.trim();

    if (searchTerm !== "") {
      highlightSearchTerm();  // Highlight the search term
    }

    // Toggle the 'clicked' class on the icon to apply the highlight effect
    this.classList.toggle('clicked');
    
    // Optional: Remove the highlight effect after a short delay (e.g., 1 second)
    setTimeout(() => {
      this.classList.remove('clicked');
    }, 1000);  // Highlight effect stays for 1 second
  });
</script>

  <!-- Hidden File Inputs -->
<input type="file" id="upload-image" accept="image/*" style="display:none;">
<input type="file" id="upload-music" accept="audio/*" style="display:none;">
<input type="file" id="upload-video" accept="video/mp4" style="display:none;">
<input type="file" id="upload-docs" accept=".doc,.docx,.pdf" style="display:none;">
<input type="file" id="upload-apps" accept=".apk,.exe,.zip" style="display:none;">

<!-- Quick Access Section -->
<section class="content-section">
  <h1 class="section-header">Quick Upload</h1>
  <div class="access-links">
    <div class="access-link-wrapper" onclick="openUploader('upload-image')">
      <div class="access-icon">
        <!-- Image Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
          <circle cx="8.5" cy="8.5" r="1.5"/>
          <polyline points="21 15 16 10 5 21"/>
        </svg>
      </div>
      <span class="access-text">Images</span>
    </div>

    <div class="access-link-wrapper" onclick="openUploader('upload-music')">
      <div class="access-icon">
        <!-- Music Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-music">
          <path d="M9 18V5l12-2v13"/>
          <circle cx="6" cy="18" r="3"/>                   
          <circle cx="18" cy="16" r="3"/>
        </svg>
      </div>
      <span class="access-text">Music</span>
    </div>

    <div class="access-link-wrapper" onclick="openUploader('upload-video')">
      <div class="access-icon">
        <!-- Video Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play">
          <polygon points="5 3 19 12 5 21 5 3"/>
        </svg>
      </div>
      <span class="access-text">Video</span>
    </div>

    <div class="access-link-wrapper" onclick="openUploader('upload-docs')">
      <div class="access-icon">
        <!-- Docs Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-align-left">
          <line x1="17" y1="10" x2="3" y2="10"/>
          <line x1="21" y1="6" x2="3" y2="6"/>
          <line x1="21" y1="14" x2="3" y2="14"/>
          <line x1="17" y1="18" x2="3" y2="18"/>
        </svg>
      </div>
      <span class="access-text">Docs</span>
    </div>

    <div class="access-link-wrapper" onclick="openUploader('upload-apps')">
      <div class="access-icon">
        <!-- Apps Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layers">
          <polygon points="12 2 2 7 12 12 22 7 12 2"/>
          <polyline points="2 17 12 22 22 17"/>
          <polyline points="2 12 12 17 22 12"/>
        </svg>
      </div>
      <span class="access-text">Apps</span>
    </div>
  </div>
</section>

<script>
function openUploader(inputId) {
    const input = document.getElementById(inputId);
    input.click(); // open file chooser

    input.onchange = function () {
        const file = input.files[0];
        if (file) {
            addFileToRecent(file);
        }
    };
}

function addFileToRecent(file) {
    const filesTable = document.querySelector(".files-table");

    // Get file extension
    const extension = file.name.split('.').pop().toLowerCase();

    // Determine icon class based on extension
    let fileTypeClass = "";
    if (["jpg", "jpeg", "png", "gif"].includes(extension)) fileTypeClass = "jpg";
    else if (["pdf"].includes(extension)) fileTypeClass = "pdf";
    else if (["mp3", "wav"].includes(extension)) fileTypeClass = "music";
    else if (["mp4", "avi"].includes(extension)) fileTypeClass = "video";
    else if (["doc", "docx"].includes(extension)) fileTypeClass = "doc";
    else fileTypeClass = "other";

    // Calculate size in KB or MB
    const fileSizeKB = file.size / 1024;
    const fileSize = fileSizeKB > 1024 
        ? (fileSizeKB / 1024).toFixed(1) + " MB"
        : Math.round(fileSizeKB) + " KB";

    // Get today's date
    const today = new Date();
    const formattedDate = today.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });

    // Create download link for the file
    const downloadLink = URL.createObjectURL(file);

    // Set the inner HTML of the row
    const newRow = document.createElement("div");
    newRow.classList.add("files-table-row");
    newRow.innerHTML = `
        <div class="table-cell name-cell ${fileTypeClass}">${file.name}</div>
        <div class="table-cell size-cell">${fileSize}</div>
        <div class="table-cell">${formattedDate}</div>
        <div class="table-cell action-cell">
            <button class="more-action" onclick="downloadFile('${downloadLink}', '${file.name}')"></button>
        </div>
    `;

    // Add the new row under files-table
    filesTable.appendChild(newRow);

    // Save file data to local storage
    saveFileToLocalStorage(file, fileSize, formattedDate, downloadLink);
}

function downloadFile(fileUrl, fileName) {
    // Create a temporary link element to trigger the download
    const tempLink = document.createElement('a');
    tempLink.href = fileUrl;
    tempLink.download = fileName;  // Set the file name for download
    tempLink.click();  // Simulate a click to start the download
}

function saveFileToLocalStorage(file, fileSize, formattedDate, downloadLink) {
    // Get existing files from local storage
    let files = JSON.parse(localStorage.getItem('uploadedFiles')) || [];

    // Add the new file to the files array
    files.push({
        name: file.name,
        size: fileSize,
        date: formattedDate,
        url: downloadLink
    });

    // Save the updated files array back to local storage
    localStorage.setItem('uploadedFiles', JSON.stringify(files));
}

// Load files from local storage on page load
window.onload = function() {
    const filesTable = document.querySelector(".files-table");
    const files = JSON.parse(localStorage.getItem('uploadedFiles')) || [];

    files.forEach(file => {
        // Create a new row for each file from local storage
        const newRow = document.createElement("div");
        newRow.classList.add("files-table-row");
        newRow.innerHTML = `
            <div class="table-cell name-cell">${file.name}</div>
            <div class="table-cell size-cell">${file.size}</div>
            <div class="table-cell">${file.date}</div>
            <div class="table-cell action-cell">
                <button class="more-action" onclick="downloadFile('${file.url}', '${file.name}')"></button>
            </div>
        `;
        filesTable.appendChild(newRow);
    });
}
</script>



    
    <section class="content-section">
  <div class="section-header-wrapper">
    <h1 class="section-header">Daily Log - PC</h1>
    <a class="section-header-link">
      View in folders
    </a>
  </div>

  <div class="content-section-line" style="display: flex; flex-direction: column; align-items: center;">
    <iframe 
      src="https://sugamkaistha1224.github.io/Testing/" 
      frameborder="0" 
      style="width: 100%; height: 90vh; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.1);"
      allowfullscreen>
    </iframe>
  </div>
</section>
    <section class="content-section">
      <div class="section-header-wrapper">
        <h1 class="section-header">Recent Files</h1>
        
      </div>
      <div class="files-table">
        <div class="files-table-header">
          <div class="column-header table-cell">Name</div>
          <div class="column-header table-cell size-cell">Size</div>
          <div class="column-header table-cell">Last Modified</div>
          <div class="column-header table-cell">Download</div>
        </div>
        
      </div>
    </section>
  </div>
  <div class="right-area">
    <button class="btn-close-right">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="feather feather-x-circle" viewBox="0 0 24 24">
        <defs/>
        <circle cx="12" cy="12" r="10"/>
        <path d="M15 9l-6 6M9 9l6 6"/>
      </svg>
    </button>
      <!-- Existing code for header and downloads section -->
      <style type="text/css">
.upload-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #6166fe; /* Primary blue color */
    color: white;
    font-weight: bold;
    font-size: 14px;
    padding: 14px 24px;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease-in-out;
    box-shadow: 0px 4px 15px rgba(50, 94, 168, 0.1);
    border: none;
    position: relative;
    margin-top: 20px;
    width: auto;
    max-width: 250px;
    text-align: center;
}

.upload-btn:hover {
    background-color: #4a55db; /* Slightly darker blue on hover */
    transform: translateY(-5px);
    box-shadow: 0px 8px 25px rgba(50, 94, 168, 0.2);
}

.upload-btn:active {
    background-color: #3747b6; /* Darker shade for active state */
    transform: translateY(2px);
    box-shadow: 0px 6px 20px rgba(50, 94, 168, 0.1);
}

/* Icon inside the button */
.upload-btn svg {
    width: 20px;
    height: 20px;
    margin-right: 8px;
    transition: all 0.3s ease;
}

.upload-btn:hover svg {
    transform: scale(1.1); /* Slight zoom effect on hover */
}

/* Optional: Add a loading spinner if the file is uploading */
.upload-btn .loading-spinner {
    display: none;
    position: absolute;
    right: 16px;
}

.upload-btn.loading .loading-spinner {
    display: block;
}

/* Add a subtle fade for the text when loading */
.upload-btn.loading svg,
.upload-btn.loading span {
    opacity: 0.3;
}

/* Optional - Animate the button on page load */
@keyframes slide-in {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.upload-btn {
    animation: slide-in 1s ease-out;
}
      </style>
<style>
  /* Make right area nicely flexible */
.right-area-header-wrapper {
  display: flex;
  flex-direction: column;
  height: 100vh; /* Full viewport height */
  padding: 20px;
  box-sizing: border-box;
}

/* Make upload button stick to the top */
.upload-btn {
  flex: 0 0 auto;
  margin-bottom: 10px;
}

/* Scrollable download list */
.download-list {
  flex: 1 1 auto;
  overflow-y: auto;
  padding-right: 5px;
  animation: fadeIn 0.5s ease-in-out;
}

/* Animate new items */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}


 
  /* Scrollbar styling */
  .download-list::-webkit-scrollbar {
    width: 6px;
  }

  .download-list::-webkit-scrollbar-thumb {
    background-color: #4b50dd;
    border-radius: 3px;
  }

  .download-list::-webkit-scrollbar-track {
    background: transparent;
  }

  /* Fade-in animation */
  @keyframes fadeInScroll {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Optional: style individual download items */
.download-item-line {
    background: #f8f9fc;
    margin-bottom: 15px;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    animation: fadeInScroll 0.8s ease;
  }

  .download-area {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .download-item-texts p {
    margin: 5px 0;
    font-size: 14px;
  }

  .download-icon svg {
    cursor: pointer;
    width: 30px;
    height: 30px;
    fill: #4b50dd;
    transition: transform 0.3s ease;
  }

  .download-icon svg:hover {
    transform: scale(1.2);
    fill: #3945b5;
  }

  .line-header {
    font-size: 12px;
    color: #777;
    margin-bottom: 8px;
    text-transform: uppercase;
  }
</style>

<div class="right-area-header-wrapper">
  <!-- Upload Button -->
  <button class="upload-btn" id="uploadBtn">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M12 4v16M5 11l7-7 7 7"></path>
    </svg>
    <span>Upload File</span>
  </button>

  <!-- Delete All Button (Dustbin Icon) -->
  <button class="delete-all-btn" id="deleteAllBtn">
  <span class="delete-all-text">Delete All</span>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
    <path d="M3 6h18M5 6l1 14h12l1-14H5zM9 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
  </svg>
</button>
<style type="text/css">
	.delete-all-btn {
  display: flex;
  align-items: center;
  background: none;
  border: none;
  cursor: pointer;
}

.delete-all-text {
  margin-right: 8px; /* Space between the text and the icon */
  font-size: 14px;
  font-weight: bold;
}

.delete-all-btn svg {
  width: 20px;
  height: 20px;
}

</style>

  <!-- Hidden File Input -->
  <input type="file" id="fileInput" style="display: none;" />

  <!-- Download List -->
  <div class="download-list"></div>

  <!-- QR Code Display -->
  <div id="qrCode"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode"></script>
<script>
  const uploadBtn = document.getElementById('uploadBtn');
  const deleteAllBtn = document.getElementById('deleteAllBtn');
  const fileInput = document.getElementById('fileInput');
  const downloadList = document.querySelector('.download-list');
  const qrCodeDiv = document.getElementById('qrCode');

  window.onload = function() {
    const savedFiles = JSON.parse(localStorage.getItem('uploadedFiles')) || [];
    savedFiles.forEach(fileData => {
      if (isFileExpired(fileData.uploadTime)) {
        return; // Skip expired files
      }
      addDownloadItem(fileData.name, fileData.size, fileData.uploadTime, fileData.url, fileData.uploadTime);
    });
  };

  uploadBtn.addEventListener('click', () => fileInput.click());

  fileInput.addEventListener('change', event => {
    const file = event.target.files[0];
    if (file) {
      const currentTime = new Date();
      const formattedTime = currentTime.toLocaleString();
      const fileURL = URL.createObjectURL(file);

      // Define expiration time (e.g., 1 day)
      const expirationTime = currentTime.getTime() + 24 * 60 * 60 * 1000; // 1 day expiration

      const uploadedFiles = JSON.parse(localStorage.getItem('uploadedFiles')) || [];
      uploadedFiles.push({
        name: file.name,
        size: (file.size / 1024 / 1024).toFixed(2),
        uploadTime: formattedTime,
        expirationTime: expirationTime,
        url: fileURL
      });

      localStorage.setItem('uploadedFiles', JSON.stringify(uploadedFiles));

      addDownloadItem(file.name, (file.size / 1024 / 1024).toFixed(2), formattedTime, fileURL, formattedTime);

      // Generate QR code for the file
      generateQRCode(fileURL);
    }
  });

  deleteAllBtn.addEventListener('click', () => {
    // Clear localStorage and the download list
    localStorage.removeItem('uploadedFiles');
    downloadList.innerHTML = ''; // Remove all items from the display
  });

  function isFileExpired(uploadTime) {
    const expirationTime = new Date(uploadTime).getTime() + 24 * 60 * 60 * 1000; // 1 day expiration
    return Date.now() > expirationTime;
  }

  function addDownloadItem(fileName, fileSize, uploadTime, fileURL, fileUploadTime) {
    const downloadItem = document.createElement('div');
    downloadItem.classList.add('download-item-line');

    downloadItem.innerHTML = `
      <div class="line-header">${uploadTime}</div>
      <div class="download-area">
        <div class="download-item-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <circle cx="256" cy="256" r="256" fill="#4b50dd"></circle>
            <path fill="#f5f5f5" d="M192 64h176c4.4 0 8 3.6 8 8v328c0 4.4-3.6 8-8 8H120c-4.4 0-8-3.6-8-8V148l80-84z"></path>
            <path fill="#e6e6e6" d="M184 148c4.4 0 8-3.6 8-8V64l-80 84h72z"></path>
          </svg>
        </div>
        <div class="download-item-texts">
          <p><strong>File Name:</strong> ${fileName}</p>
          <p><strong>File Size:</strong> ${fileSize} MB</p>
          <p><strong>Upload Time:</strong> ${uploadTime}</p>
        </div>
        <div class="download-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" class="download-btn">
            <path d="M403.939 295.749l-78.814 78.833V172.125c0-10.557-8.568-19.125-19.125-19.125s-19.125 8.568-19.125 19.125v202.457l-78.814-78.814c-7.478-7.478-19.584-7.478-27.043 0-7.478 7.478-7.478 19.584 0 27.042L289.208 431c4.59 4.59 10.863 6.005 16.812 4.953 5.929 1.052 12.221-.382 16.811-4.953l108.19-108.19c7.478-7.478 7.478-19.583 0-27.042-7.498-7.478-19.604-7.478-27.082-.019zM306 0C137.012 0 0 136.992 0 306s137.012 306 306 306 306-137.012 306-306S475.008 0 306 0zm0 573.75C158.125 573.75 38.25 453.875 38.25 306S158.125 38.25 306 38.25 573.75 158.125 573.75 306 453.875 573.75 306 573.75z"/>
          </svg>
        </div>
        <div class="delete-file-btn">
    <button onclick="deleteFile('${fileUploadTime}')">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="delete-icon">
        <path d="M3 6h18M5 6l1 14h12l1-14H5zM9 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
      </svg>
    </button>
  </div>
      </div>
    `;

    // Handle file download
    const downloadBtn = downloadItem.querySelector('.download-btn');
    downloadBtn.addEventListener('click', () => {
      const tempLink = document.createElement('a');
      tempLink.href = fileURL;
      tempLink.setAttribute('download', fileName);
      document.body.appendChild(tempLink);
      tempLink.click();
      document.body.removeChild(tempLink);
    });

    // Add the item to the download list
    downloadList.appendChild(downloadItem);

    // Smooth scroll to bottom when new file is added
    downloadList.scrollTop = downloadList.scrollHeight;
  }

  function deleteFile(fileUploadTime) {
    // Remove file from localStorage based on upload time
    const uploadedFiles = JSON.parse(localStorage.getItem('uploadedFiles')) || [];
    const updatedFiles = uploadedFiles.filter(file => file.uploadTime !== fileUploadTime);
    localStorage.setItem('uploadedFiles', JSON.stringify(updatedFiles));

    // Remove the file from the display
    const fileElements = document.querySelectorAll('.download-item-line');
    fileElements.forEach(element => {
      if (element.querySelector('.line-header').textContent === fileUploadTime) {
        element.remove();
      }
    });
  }

  function generateQRCode(fileURL) {
    qrcode.toCanvas(qrCodeDiv, fileURL, (error) => {
      if (error) console.error(error);
      else console.log("QR Code Generated!");
    });
  }
</script>

<style>
	.download-area {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 8px;
}

.download-item-texts {
  flex: 1;
  padding-right: 15px;
}

.download-icon, .delete-file-btn {
  display: flex;
  align-items: center;
}

.delete-file-btn button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 20px;
  padding: 0;
  margin-left: 15px; /* Space between download icon and delete button */
}

.delete-icon {
  width: 24px;
  height: 24px;
}

.download-btn {
  width: 24px;
  height: 24px;
  cursor: pointer;
}

.download-btn path {
  fill: #4b50dd;
}

.download-item-icon svg {
  width: 30px;
  height: 30px;
}

  /* Styling for the buttons */
  .upload-btn, .delete-all-btn {
    font-size: 16px;
    padding: 10px 20px;
    cursor: pointer;
    display: inline-block;
    margin-right: 10px;
    border-radius: 5px;
  }

  .delete-all-btn {
    background-color: white;
    color: black;
    border: none;
    padding: 3px 3px;
    cursor: pointer;
  }

  .delete-all-btn svg {
    width: 15px;
    height: 15px;
  }

  .upload-btn svg {
    width: 20px;
    height: 20px;
    margin-right: 5px;
  }

  /* Additional styling for download list and items */
  .download-list {
    margin-top: 20px;
  }
</style>
  </div>
</div>
<script type="text/javascript">
	import { ref, uploadBytes, getDownloadURL } from "firebase/storage";
import { doc, setDoc, getDoc } from "firebase/firestore";
import { db, storage } from "./firebase"; // Assuming you're using Firebase Firestore and Storage

// File upload function
const fileInput = document.getElementById('fileInput');
fileInput.addEventListener('change', async (event) => {
  const file = event.target.files[0];
  if (file) {
    // Upload the file to Firebase Storage
    const storageRef = ref(storage, 'uploads/' + file.name);
    try {
      const snapshot = await uploadBytes(storageRef, file);
      console.log('File uploaded successfully!');

      // Get the download URL
      const downloadURL = await getDownloadURL(snapshot.ref);
      console.log('Download URL:', downloadURL);

      // Save the file metadata in Firestore (you can also use Firebase Realtime Database)
      const fileDocRef = doc(db, "uploadedFiles", file.name);
      await setDoc(fileDocRef, {
        name: file.name,
        size: file.size,
        downloadURL: downloadURL,
        uploadedAt: new Date()
      });
      
      console.log('File metadata saved to Firestore');
    } catch (error) {
      console.error('Error uploading file:', error);
    }
  }
});


import { getDoc, doc } from "firebase/firestore";

// Get file metadata from Firestore
async function getUploadedFile(fileName) {
  const fileDocRef = doc(db, "uploadedFiles", fileName);
  const fileDoc = await getDoc(fileDocRef);

  if (fileDoc.exists()) {
    const fileData = fileDoc.data();
    console.log('File metadata:', fileData);

    // Create an HTML element to show the file and provide a download link
    const fileElement = document.createElement('div');
    fileElement.innerHTML = `
      <div>
        <strong>${fileData.name}</strong>
        <p>Size: ${(fileData.size / 1024 / 1024).toFixed(2)} MB</p>
        <a href="${fileData.downloadURL}" download>Download</a>
      </div>
    `;
    document.body.appendChild(fileElement);  // Append it to the page
  } else {
    console.log("No such document!");
  }
}

// Call the function to get the file (e.g., call it with the file name)
getUploadedFile('example.jpg');



import { collection, query, onSnapshot } from "firebase/firestore";

// Listen to real-time updates
const filesQuery = query(collection(db, "uploadedFiles"));

onSnapshot(filesQuery, (snapshot) => {
  snapshot.docChanges().forEach((change) => {
    if (change.type === "added") {
      // When a new file is added
      const fileData = change.doc.data();
      console.log("New file uploaded:", fileData);

      // Display the file dynamically
      const fileElement = document.createElement('div');
      fileElement.innerHTML = `
        <div>
          <strong>${fileData.name}</strong>
          <p>Size: ${(fileData.size / 1024 / 1024).toFixed(2)} MB</p>
          <a href="${fileData.downloadURL}" download>Download</a>
        </div>
      `;
      document.body.appendChild(fileElement);
    }
  });
});

</script>

<!-- Include Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
	$(document).ready(function () {
  $("a#pageLink").click(function () {
    $("a#pageLink").removeClass("active");
    $(this).addClass("active");
  });
  
  $(".btn-show-left-area").click(function () {
    $(".left-area").removeClass("show");
    $(".left-area").addClass("show");
  });
  
  $(".btn-show-right-area").click(function () {
    $(".right-area").removeClass("show");
    $(".right-area").addClass("show");
  });
  
  $(".btn-close-right").click(function () {
    $(".right-area").removeClass("show");
  });
  
  $(".btn-close-left").click(function () {
    $(".left-area").removeClass("show");
  });
});

$('.main-area').scroll( function() {
    if ($('.main-area').scrollTop() >= 88) {
       $('div.main-area-header').addClass('fixed');
    }
    else {
       $('div.main-area-header').removeClass('fixed');
    }
});
</script>
</body>
</html>
